<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>Document</title>
	</head>
	<body>
		<div id="container">
			<canvas id="dashboard" width="250" height="200"></canvas>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/vue@2.6.0"></script>
		<script>
			const canvas = document.getElementById('dashboard');
			const ctx = canvas.getContext('2d');

			const box = 50;

			let activeBox = {
				x: 0,
				y: 0,
				color: 'orange',
				value: 0
			};

			let board = [];
			for (r = 0; r < 5; r++) {
				board[r] = [];
				for (c = 0; c < 4; c++) {
					board[r][c] = new Object;
				}
			}
			function square(x, y, color, strockeColor) {
				ctx.fillStyle = color;
				ctx.fillRect(x * box, y * box, box, box);

				ctx.strokeStyle = strockeColor;
				ctx.strokeRect(x * box, y * box, box, box);
			}
			function drawBoard() {
				for (let row = 0; row < 5; row++) {
					for (let col = 0; col < 4; col++) {
            square(row, col, 'lightblue', 'black');
            board[row][col].x = row;
            board[row][col].y = col;
            
					}
				}
			}
			document.addEventListener('keydown', move);

			function circle(color, x, y) {
				ctx.beginPath();
				ctx.arc(x, y, 10, 0, 2 * Math.PI);
				ctx.fillStyle = color;
				ctx.stroke();
			}

			let d = 0;
			function fillValue() {
				if (activeBox.value) {
					circle('orange', 5 + activeBox.x * box, 5 + activeBox.y * box);
				}
			}
			function drawActiveBox() {
				square(activeBox.x, activeBox.y, 'blue', 'orange');
			}

			function move(event) {
				console.log(event.keyCode);
				let key = event.keyCode;
				if (key === 37) {
					d = 'LEFT';
				} else if (key === 38) {
					d = 'UP';
				} else if (key === 39) {
					d = 'RIGHT';
				} else if (key === 40) {
					d = 'DOWN';
				} else if (key === 32) {
					fillValue();
				}
				mainDraw();
			}
			function mainDraw() {
				drawBoard();

				if (d === 'LEFT' && activeBox.x - 1 >= 0) activeBox.x -= 1;
				if (d === 'RIGHT' && activeBox.x + 1 < 5) activeBox.x += 1;
				if (d === 'UP' && activeBox.y - 1 >= 0) activeBox.y -= 1;
				if (d === 'DOWN' && activeBox.y + 1 < 4) activeBox.y += 1;
				drawActiveBox();
			}
			mainDraw();
		</script>
	</body>
</html>
