const canvas = document.getElementById("canvas");const canvasText = canvas.getContext("2d");// create the unitconst box = 32;//load imageconst ground = new Image();ground.src = "img/ground.png";const foodImg = new Image();foodImg.src = "img/food.png";//load audio fileslet dead = new Audio("dead.mp3");let eat = new Audio("eat.mp3");let up = new Audio("up.mp3");let down = new Audio("down.mp3");let left1= new Audio("left.mp3");let right1 = new Audio("right.mp3");//create the snakelet snake = [];snake[0] = {    x : 9 * box,    y : 10 * box};//create the foodlet food = {    x : Math.floor(Math.random() * 17+1) * box,    y : Math.floor(Math.random() * 15+3) * box};//create the score variablelet score = 0;//snake speedlet speed = 100;//_______________________////control the snakelet d=0;document.addEventListener("keydown" , direction);function direction(event) {    let key = event.keyCode;    if(key === 37 && d !== "RIGHT"){        d = "LEFT";        left1.play();    }else if (key === 38 && d !== "DOWN"){        d = "UP";        up.play();    }else if(key === 39 && d !== "LEFT"){        d = "RIGHT";        right1.play();    }else if(key === 40 && d !== "UP"){        d = "DOWN";        down.play();    }}//_____________////draw everythingfunction draw() {    //background img    canvasText.drawImage(ground,0,0);    //snake    for (let i = 0; i <snake.length ; i++) {        canvasText.fillStyle = ( i === 0)? "green":"white";        canvasText.fillRect(snake[i].x , snake[i].y , box , box);        canvasText.strokeStyle =  "green";        canvasText.strokeRect(snake[i].x , snake[i].y , box , box);    }    //food    canvasText.drawImage(foodImg,food.x,food.y);    //old head position    let snakeX = snake[0].x;    let snakeY = snake[0].y;    //which direction    if(d === "LEFT") snakeX -= box;    if(d === "RIGHT") snakeX += box;    if(d === "UP") snakeY -= box;    if(d === "DOWN") snakeY += box;    if(snakeX === food.x && snakeY === food.y){        eat.play();        // speed-=10;        // clearInterval(game);        // game = setInterval(draw , speed);        score++;        food = {            x : Math.floor(Math.random() * 17+1) * box,            y : Math.floor(Math.random() * 15+3) * box        };    }else{        //remove the tail        snake.pop();    }    let newHead ={        x : snakeX,        y : snakeY    };    if(snakeX < box || snakeX > 17 * box || snakeY >17 * box || snakeY < 3 * box || collision(newHead , snake) === true){        clearInterval(game);        dead.play();        alert(`Your snake is dead. Your score is ${score}!`);    }//check collision function    function collision(head , array){        for (let i = 0; i < array.length; i++) {            if(head.x === array[i].x && head.y === array[i].y){                return true;            }        }        return false;    }//     let collision = (head , array) => {//         for (let i = 0; i < array.length; i++) {//             if (head.x === array[i].x && head.y === array[i].y) {//                 return true;//             }//         }//         return false;//     };    snake.unshift(newHead);    //score    canvasText.fillStyle = "white";    canvasText.font = "45 Change one";    canvasText.fillText(score,2*box,box);}//call draw function every 100mslet game = setInterval(draw,speed);